var Rt=Object.defineProperty,Pt=Object.defineProperties;var kt=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var dt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var pt=(t,e,n)=>e in t?Rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m=(t,e)=>{for(var n in e||(e={}))dt.call(e,n)&&pt(t,n,e[n]);if(W)for(var n of W(e))ht.call(e,n)&&pt(t,n,e[n]);return t},C=(t,e)=>Pt(t,kt(e));var nt=(t,e)=>{var n={};for(var s in t)dt.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&W)for(var s of W(t))e.indexOf(s)<0&&ht.call(t,s)&&(n[s]=t[s]);return n};import{m as x}from"./ant-design-vue.b850707f.js";import{r as K,s as ft,t as st,o as q,x as ot,y as gt,n as at,w as It,d as mt,j as Mt,cV as V,cW as yt,d2 as Lt,d3 as Ot,cY as _t,F as Xt,d4 as Tt,u as Yt,d5 as S,d6 as vt,d7 as $t,d8 as wt,$ as J,d9 as jt,da as Ht,db as zt}from"./vendor.c8db1e13.js";import{k as it,l as B}from"./lodash.f14311af.js";import"./node-forge.38760642.js";import{g as Gt}from"./echarts.92ee4700.js";import"./prettier.97963628.js";const Ut=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}};Ut();const H=(t,e,n)=>{document.addEventListener(t,e,n)},z=(t,e,n)=>{document.removeEventListener(t,e,n)},bt=t=>{const e=["width","height","top","left","bottom","right","fontSize","borderWidth","borderRadius"],n={};for(const[s,o]of Object.entries(t))if(!!o){if(s==="rotate"){n.transform=`rotate(${o}deg)`;continue}if(s==="scale"){n.transform=`scale(${o/100})`;continue}n[s]=e.includes(s)?o+"px":o}return n},Nt=(t,e=!0)=>{const u=t,{width:n,height:s,left:o,top:a}=u,i=nt(u,["width","height","left","top"]),r=e?{width:n,height:s,left:o,top:a}:m({},i);return bt(r)};var rt={maxSnapshot:20,defaultComponentSize:{width:100,height:100},defaultPageSize:{width:1920,height:1080}};const be=["url","static"];var Et;(function(t){t.RADIO="radio",t.CHECKBOX="checkbox",t.INPUT="input",t.INPUT_NUMBER="input-number",t.SELECT="select",t.SWITCH="switch",t.SLIDER="slider",t.COLOR_PICKER="color-picker",t.BTN_GROUP="btn-group",t.TEXTAREA="textarea",t.CUSTOM="custom"})(Et||(Et={}));var R;(function(t){t.USER_INFO="user-info",t.AUTHORIZATION="authorization",t.IS_DARK="is-dark"})(R||(R={}));var w;(function(t){t.X="x",t.Y="y"})(w||(w={}));const Ee=()=>{const t=A(),e=K({show:!1,style:{width:0,height:0,top:0,left:0}});return{selectMask:e,handleMousedown:s=>{if(s.buttons===1){e.show=!0;const{pageX:o,pageY:a}=s,i=ue(o,a);if(!i)return;e.style=C(m(m({},e.style),i),{width:0,height:0});const r=p=>{const{pageX:l,pageY:c}=p,d=D(l-o),h=D(c-a);d<0&&(e.style.left=i.left+d),h<0&&(e.style.top=i.top+h),e.style.width=Math.abs(d),e.style.height=Math.abs(h),t.calcSelectedByRect(e.style)},u=p=>{p.stopPropagation(),z("mousemove",r),z("mouseup",u),e.show=!1,p.clientX==o&&p.clientY==a&&t.cancelSelected()};H("mousemove",r),H("mouseup",u)}}}},Wt=()=>{const t=n=>{const o=A().refs[n];if(o){const a=Gt(o);a==null||a.resize()}};return{handleEchartsResize:t,handleAllEchartsResize:n=>{for(let s=0,o=n.data.length;s<o;s++)t(s)}}},Ce=(t,e,n)=>{const s=ft(),o=K({width:0,height:0,top:0,left:0}),a=st(!0),i=k(),r=Bt(),u=()=>{if(!t.value||!e.value||!s.value)return;const{width:g,height:f}=t.value.getBoundingClientRect(),{width:b,height:E}=e.value.getBoundingClientRect(),{width:_,height:v}=s.value.getBoundingClientRect(),I=b/g,M=E/f;o.width=Math.min(I*_,_),o.height=Math.min(M*v,v),n.value++},p=g=>{if(g.buttons!==1||!s.value)return;const f=g.target;let b=g.clientX,E=g.clientY,{left:_,top:v}=o;const{width:I,height:M}=s.value.getBoundingClientRect(),{width:Q,height:tt}=f.getBoundingClientRect(),L=I-Q,O=M-tt,X=F=>{if(F.stopPropagation(),!e.value||!t.value)return;const{clientX:Y,clientY:$}=F,j=Y-b,et=$-E;let U=0,N=0;j<0&&o.left<=0?(b=Y,_=0,U=0):j>=0&&o.left>=L?(b=Y,_=L,U=L):U=_+j,et<0&&o.top<=0?(E=$,v=0,N=0):et>=0&&o.top>=O?(E=$,v=O,N=O):N=v+et,o.left=U,o.top=N},T=F=>{F.stopPropagation(),z("mousemove",X),z("mouseup",T)};H("mousemove",X),H("mouseup",T)},l=()=>{if(!t.value||!e.value||!s.value)return;const g=k(),f=s.value.getContext("2d");if(!f)return;const{width:b,height:E}=s.value;f.clearRect(0,0,b,E);const{width:_,height:v}=s.value.getBoundingClientRect(),{width:I,height:M}=t.value.getBoundingClientRect(),{width:Q,height:tt}=g.config,L=_/D(I),O=v/D(M),X=L*2,T=O*2,F=Q*X,Y=tt*T,$=60*X,j=60*T;f.strokeStyle="#1890ff",f.lineWidth=2,f.strokeRect($,j,F,Y)},c=it(u,100),d=it(l,100),h=()=>{if(!t.value||!e.value||!s.value)return;const{width:g,height:f}=t.value.getBoundingClientRect(),{width:b,height:E}=s.value.getBoundingClientRect(),{scrollLeft:_,scrollTop:v}=e.value;o.left=_/g*b,o.top=v/f*E};return q(()=>{window.addEventListener("resize",c),window.addEventListener("resize",d),ot(()=>{u(),l()})}),gt(()=>{window.removeEventListener("resize",c),window.removeEventListener("resize",d)}),at(()=>{if(!e.value||!s.value||!t.value)return;const{width:g,height:f}=t.value.getBoundingClientRect(),{width:b,height:E}=s.value.getBoundingClientRect(),_=o.left*g/b,v=o.top*f/E;e.value.scroll(_,v)}),It(r,()=>{setTimeout(()=>{u(),l()},300)}),at(()=>{i.config.scale&&(c(),d())}),{viewportSize:o,resizeViewport:u,thumbnailRef:s,handleThumbnailMousedown:p,syncScroll:h,showThumbnail:a,switchThumbnail:()=>{a.value=!a.value}}},xe=t=>{const e=k(),n=K({width:0,height:0}),s=st(0),o=r=>r+"%",a=()=>{if(!t.value)return;const{width:r,height:u}=t.value.getBoundingClientRect(),{width:p,height:l}=e.config,c=D(p+400,!0),d=D(l+400,!0),h=r-4,y=u-4;n.width=c<=h?h:c,n.height=d<=y?y:d,s.value++},i=it(a,100);return q(()=>{at(()=>{e.config.scale&&a()})}),{sliderFormatter:o,handleSliderChange:i,screenShotSize:n,rulerKey:s}},Ae=()=>{const t=K([{direction:w.X,marklineDct:w.Y,marklines:[]},{direction:w.Y,marklineDct:w.X,marklines:[]}]),e=st(!0);function n(l,c){const{clientX:d,clientY:h}=l,y=l.target,{left:g,top:f}=y.getBoundingClientRect();return c===w.X?[h-f,1]:[d-g,0]}function s(l,c){if(!e.value)return;const[d,h]=n(l,c);t[h].marklines.push(d)}function o(l,c){const[d,h]=n(l,c);t[h].hoverline=d}function a(l){const c=l===w.X?1:0;t[c].hoverline=0}function i(){e.value=!e.value}function r(l,c){const d=c===w.X?0:1;t[d].marklines.splice(l,1)}function u(l,c){const d=l===w.Y?" rotate(90deg)":"",h=l===w.Y?"top":"left";return`transform:${d} translateX(${c[h]}px)`}function p(l){return l===w.X?"width":"height"}return{rulerData:t,showMarkline:e,getStyle:u,getUnit:p,addMarkline:s,handleRulerMouseMove:o,handleRulerMouseOut:a,switchMarklineDisplay:i,cancelMarkline:r}},Be=()=>{const t=k(),e=Bt(),n=A(),s={Backspace:()=>n.del(),a:a=>a&&n.selectAll(),s:a=>a&&t.savePage(),c:a=>a&&n.copy(),ArrowLeft:a=>{a?e.switchPanelShow("layer"):n.selected.forEach(i=>{n.data[i].style.left-=t.config.gap})},ArrowUp:a=>{a?e.switchPanelShow("component"):n.selected.forEach(i=>{n.data[i].style.top-=t.config.gap})},ArrowRight:a=>{a?e.switchPanelShow("config"):n.selected.forEach(i=>{n.data[i].style.left+=t.config.gap})},ArrowDown:()=>{n.selected.forEach(a=>{n.data[a].style.top+=t.config.gap})}},o=a=>{var r;if(!((r=document.querySelector(".canvas-wrapper"))==null?void 0:r.contains(document.activeElement)))return;const i=s[a.key];if(i){a.preventDefault(),a.stopPropagation();const u=a.ctrlKey||a.metaKey;i(u)}};q(()=>H("keydown",o)),gt(()=>z("keydown",o))};const Kt=async(t,e)=>new Promise(n=>{const{name:s,animationDelay:o,animationDuration:a,animationIterationCount:i}=e,r="animate__animated",u=`animate__${s}`;t.style.animationDelay=`${o}s`,t.style.animationDuration=`${a}s`,t.style.animationIterationCount=`${i}`,t.classList.add(r,u);const p=()=>{t.removeEventListener("animationend",p),t.removeEventListener("animationcancel",p),t.style.animationDelay="",t.style.animationDuration="",t.style.animationIterationCount="",t.classList.remove(r,u),n()};t.addEventListener("animationend",p),t.addEventListener("animationcancel",p)}),qt=async(t,e)=>{if(!!e)for(let n=0;n<e.length;n++)await Kt(t,e[n])};var Ct=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n};const Vt=mt({name:"board-box",props:{data:{type:Object,default:()=>({})},patchAll:{type:Boolean,default:!1},editorMode:{type:Boolean,default:!1}},setup(t){const e=ft(),n=Mt(()=>t.data);return q(()=>{var o;const{animations:s}=n.value;t.editorMode||!s||!((o=e.value)==null?void 0:o.$el)||qt(e.value.$el,n.value.animations)}),{splitStyleAndPatch:Nt,patchUnit:bt,box:e}}});function Jt(t,e,n,s,o,a){return V(),yt(Ot(`cq-${t.data.component}`),{ref:"box",group:t.data.group,data:t.data.data,"props-data":t.data.propsData,style:Lt(t.patchAll?t.patchUnit(t.data.style):t.splitStyleAndPatch(t.data.style,!1))},null,8,["group","data","props-data","style"])}var Zt=Ct(Vt,[["render",Jt]]);const Qt={class:"board-group"},te=mt({props:{group:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(V(),_t("div",Qt,[(V(!0),_t(Xt,null,Tt(t.group,s=>(V(),yt(Yt(Zt),{key:s.id,data:s,"patch-all":""},null,8,["data"]))),128))]))}});var xt=Ct(te,[["__scopeId","data-v-644c95db"]]);const ee=S("gallery",{state(){return{group:[],list:[]}},actions:{setGroup(t){this.group=t},setList(t){this.list=t},getGallery(t){if(t==="group")return{type:"group",name:"group",version:"1.0.0",component:xt};const e=this.list.find(n=>n.type===t);if(e)return B(e)}}}),A=S("board",{state:()=>({selected:[],data:[],refs:[],offset:{left:0,top:0}}),getters:{curCom(t){return t.selected.length>0?t.data[t.selected[0]]:void 0},curComs(t){return t.selected.map(e=>t.data[e])}},actions:{rawAppend(t){const e=[],n=[];Array.isArray(t)?t.forEach((s,o)=>{e.push(s),n.push(this.data.length+o)}):(e.push(t),n.push(this.data.length)),this.data.push(...e),this.selected=n},append({top:t=0,left:e=0,type:n="",label:s=""}){const a=ee().getGallery(n);if(!a)throw new Error("\u83B7\u53D6\u4E0D\u5230\u8BE5\u7EC4\u4EF6\u4FE1\u606F");const{style:i,data:r,propsData:u}=B(a),p=0,l=1,c=n,d=vt(),h=m(m({top:t,left:e,rotate:p,opacity:l},rt.defaultComponentSize),i),y=s||a.name;this.rawAppend({id:d,component:c,label:y,propsData:u,style:h,data:r})},del(){this.selected.length>0&&(Dt(this.data,this.selected),this.selected=[],x.success("\u5220\u9664\u6210\u529F\uFF01"))},cancelSelected(){this.selected=[]},setIndex(t){const e=typeof t=="number"?[t]:t,n=[],{data:s}=this;e.forEach(o=>{!s[o].locked&&s[o].style.display!=="none"&&n.push(o)}),this.selected=n},spliceSelected(t){this.selected.splice(this.selected.indexOf(t),1)},appendSelected(t){const{data:e}=this,n=typeof t=="number"?[t]:t,s=[];n.forEach(o=>{!e[o].locked&&e[o].style.display!=="none"&&s.push(o)}),this.selected.push(...s)},changeSelected(t){this.selected.includes(t)?this.spliceSelected(t):this.appendSelected(t)},setBoard(t){t?Object.assign(this,t):(this.data=[],this.selected=[]),ot(()=>{const{handleAllEchartsResize:e}=Wt();e(this)})},copy(){if(this.selected.length>0){const t=this.selected.map(e=>{const n=B(this.data[e]);return n.style.left+=10,n.style.top+=10,n});this.rawAppend(t)}},moveUp(t=!1){const{data:e,selected:n}=this,s=e.length;if(n.length!==0)if(n.length>1)x.error("\u591A\u9009\u65E0\u6CD5\u79FB\u52A8");else if(n[0]===s-1)x.error("\u5DF2\u7ECF\u662F\u6700\u9876\u5C42\uFF01");else{const o=t?s-1:n[0]+1;[e[n[0]],e[o]]=[e[o],e[n[0]]],this.selected=n.map(a=>s-a-1)}},moveDown(t=!1){const{data:e,selected:n}=this,s=e.length;if(n.length!==0)if(n.length>1)x.error("\u591A\u9009\u65E0\u6CD5\u79FB\u52A8");else if(n[0]===0)x.error("\u5DF2\u7ECF\u662F\u6700\u5E95\u5C42\uFF01");else{const o=t?0:n[0]-1;[e[n[0]],e[o]]=[e[o],e[n[0]]],this.selected=n.map(a=>s-a-1)}},calcSelectedByRect(t){this.cancelSelected();const e=[];this.data.forEach((n,s)=>{const{width:o,height:a,left:i,top:r}=n.style,u=Math.min(i,t.left),p=Math.min(r,t.top),l=Math.max(i+o,t.left+t.width),c=Math.max(r+a,t.top+t.height),d=l-u,h=c-p;d<o+t.width&&h<a+t.height&&e.push(s)}),this.setIndex(e)},group(){const{selected:t,data:e}=this,n=Dt(e,t),s=n.reduce((c,d)=>{const{left:h,top:y,width:g,height:f}=d.style;return{leftX:Math.min(c.leftX,h),leftY:Math.min(c.leftY,y),rightX:Math.max(c.rightX,g+h),rightY:Math.max(c.rightY,f+y)}},{leftX:1/0,leftY:1/0,rightX:0,rightY:0}),{leftX:o,leftY:a,rightX:i,rightY:r}=s;n.forEach(c=>{c.style.top-=a,c.style.left-=o});const u=i-o,p=r-a,l={id:vt(),component:"group",label:"\u6210\u7EC4",group:n,style:{top:a,left:o,width:u,height:p,rotate:0,opacity:1}};t.length=0,this.rawAppend(l)},cancelGroup(){const{selected:t,data:e}=this,n=e[t[0]];e.splice(t[0],1);const s=n.group;if(!s)return;const{left:o,top:a}=n.style,i=[];s.forEach(r=>{r.style.left+=o,r.style.top+=a,i.push(r)}),this.rawAppend(i)},toggleLocked(t){const{data:e,selected:n}=this;(typeof t=="number"?[t]:[...t]).forEach(o=>{const a=e[o],i=n.indexOf(o);a.locked=!a.locked,a.locked&&i>-1&&n.splice(i,1)})},hide(t){const{data:e,selected:n}=this;(typeof t=="number"?[t]:[...t]).forEach(o=>{e[o].style.display="none";const a=n.indexOf(o);a>-1&&n.splice(a,1)})},show(t){this.data[t].style.display="block"},selectAll(){const{data:t}=this;this.selected=t.map((e,n)=>n)},clearRefs(){this.refs.length=0},setOffset(t){this.offset=t},pushRef(t){this.refs.push(t)}}}),ne="\u8FDE\u63A5\u51FA\u9519\u4E86~",ct=t=>{const e=typeof t=="string"?t:ne;return Promise.resolve({code:-1e4,msg:e})},se="/api/v1/",oe=t=>{const e={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${t})!`};return`${e[t]||e[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},P=$t.create({baseURL:se,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[t=>(typeof t=="string"&&t.startsWith("{")&&(t=wt.parse(t)),t)]});P.interceptors.request.use(t=>{const e=Z.get(R.AUTHORIZATION);return e&&t.headers&&(t.headers.authorization=e),t},ct);P.interceptors.response.use(async t=>{const e=t.status;return e<200||e>=300?ct(oe(e)):t.data},ct);const At=(t,e,n)=>P.get(t,C(m({},n),{params:e})),ae=(t,e,n)=>P.post(t,e,n),ie=(t,e,n)=>P.put(t,e,n),re=(t,e,n)=>P.delete(t,C(m({},n),{params:e})),G="page",ce=t=>ae(G,t),De=t=>re(`${G}/${t}`),le=t=>ie(G,t),Se=t=>At(`${G}/${t}`),Fe=()=>At(G),k=S("page",{state(){const t=C(m({_id:"",__v:0},rt.defaultPageSize),{title:"",description:"",backgroundColor:"",scale:100,gap:1,url:"",zoom:0,author:"",pageMode:0});return{config:t,cache:C(m({},t),{components:[]})}},actions:{updateCache(){const t=A();Object.assign(this.cache,this.config),this.cache.components=B(J(t.data))},async savePage(){const t=A(),e=jt();if(t.data.length===0){x.error("\u5C1A\u672A\u6DFB\u52A0\u4EFB\u4F55\u7EC4\u4EF6\uFF01");return}const n=B(J(t.data)),s=m({components:n},this.config),i=s,{_id:o}=i,a=nt(i,["_id"]);if(o)(await le(J(s))).code===0&&(x.success("\u4FDD\u5B58\u6210\u529F\uFF01"),this.updateCache());else{const r=await ce(m({},a));r.code===0&&(x.success("\u521B\u5EFA\u6210\u529F\uFF01"),this.config._id=r.data._id,this.updateCache(),e.push(`/editor/${r.data._id}`))}},isModified(){const t=A(),e=C(m({},this.config),{components:J(t.data)});return JSON.stringify(e)!==JSON.stringify(this.cache)}}}),Re=S("snapshot",{state:()=>({data:[],index:-1}),actions:{undo(){if(this.index>-1){this.index--;const t=this.index===-1?void 0:B(this.data[this.index]);if(t){const{selected:e,page:n}=t,{components:s}=n;A().setBoard({selected:e,data:s})}}},redo(){if(this.index<this.data.length-1){this.index++;const t=A(),e=B(this.data[this.index]),{selected:n,page:s}=e,{components:o}=s;t.setBoard({selected:n,data:o})}},rawRecordSnapshot(t,e){this.data[++this.index]={page:t,selected:e},this.index<this.data.length-1&&(this.data=this.data.slice(0,this.index+1)),this.data.length>rt.maxSnapshot&&this.data.shift(),x.success("\u4FDD\u5B58\u6210\u529F\uFF01")},recordSnapshot(){const t=k(),e=A(),{data:n,selected:s}=e,o=B(n),a=C(m({},t.config),{components:o});this.rawRecordSnapshot(a,s)}}}),Pe=S("theme",{state(){return{value:"light"}},actions:{async changeTheme(t){this.value=t,t==="dark"?(zt||await Ht(),Z.set(R.IS_DARK,1)):Z.remove(R.IS_DARK),document.documentElement.setAttribute("data-theme",this.value)},async switchTheme(){const t=Z.get(R.IS_DARK);this.changeTheme(t?"light":"dark")}}}),Bt=S("panel",{state(){return{layer:!0,component:!0,config:!0,util:!0}},actions:{switchPanelShow(t){this[t]=!this[t]}}});var lt;(function(t){t.BOARD="board",t.LAYER="layer"})(lt||(lt={}));const ke=S("menu",{state(){return{board:{show:!1,style:{}},layer:{show:!1,style:{}}}},actions:{show(t,e,n){t.preventDefault();const{pageX:s,pageY:o}=t;n.selected.length!==0&&(this[e].show=!0,ot(()=>{const{ref:a,container:i,style:r}=this[e];if(!a||!i)return;const u=10,{width:p,height:l}=a.getBoundingClientRect(),{width:c,height:d,left:h,top:y}=i.getBoundingClientRect();r.left=Math.min(s-h,c-p-u),r.top=Math.min(o-y,d-l-u)}))},hide(t){this[t].show=!1},hideAll(){Object.values(lt).forEach(t=>{this.hide(t)})},setRefAndContainer(t,e,n){this[t].ref=e,this[t].container=n}}});function D(t,e=!1){const s=k().config.scale/100,o=e?t*s:t/s;return Math.floor(o)}const ue=(t,e,n=".board")=>{const s=document.querySelector(n);if(!s)return;const o=s.getBoundingClientRect();return{top:D(e-o.top),left:D(t-o.left)}},Z={set(t,e,n=864e5){const s=typeof e=="string"?e:wt.stringify(e);return localStorage.setItem(t,s),localStorage.setItem(`${t}__expires__`,Date.now()+n+""),e},get(t){const e=Date.now(),n=localStorage.getItem(`${t}__expires__`)||e+1;if(e>=n){this.remove(t);return}return localStorage.getItem(t)},remove(t){localStorage.removeItem(t),localStorage.removeItem(`${t}__expires__`)}},Ie=t=>t.map(e=>{const n="center";return C(m({},e),{dataIndex:e.dataIndex||e.key,align:n})}),Dt=(t,e)=>{const n=e.map(s=>t[s]);return n.forEach(s=>{const o=t.indexOf(s);t.splice(o,1)}),n},Me=t=>{const{selected:e,data:n}=t;if(e.length<=1)return!0;let s=0;return e.forEach(o=>{if(!n[o])return;const{group:a}=n[o];(!a||a.length===0)&&s++}),s!==e.length},Le=t=>{const{selected:e,data:n}=t;if(e.length!==1)return!0;const{group:s}=n[e[0]];return!(s==null?void 0:s.length)},de="modulepreload",St={},he="/",Ft=function(e,n){return!n||n.length===0?e():Promise.all(n.map(s=>{if(s=`${he}${s}`,s in St)return;St[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":de,o||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),o)return new Promise((r,u)=>{i.addEventListener("load",r),i.addEventListener("error",u)})})).then(()=>e())},pe={"./basic/index.ts":()=>Ft(()=>import("./index.188f0199.js"),["assets/index.188f0199.js","assets/vendor.c8db1e13.js","assets/vendor.266bc503.css","assets/ant-design-vue.b850707f.js","assets/ant-design-vue.9123cf75.css","assets/lodash.f14311af.js","assets/node-forge.38760642.js","assets/echarts.92ee4700.js","assets/prettier.97963628.js"]),"./chart/index.ts":()=>Ft(()=>import("./index.bae1b7f8.js"),["assets/index.bae1b7f8.js","assets/vendor.c8db1e13.js","assets/vendor.266bc503.css","assets/ant-design-vue.b850707f.js","assets/ant-design-vue.9123cf75.css","assets/lodash.f14311af.js","assets/node-forge.38760642.js","assets/echarts.92ee4700.js","assets/prettier.97963628.js"])},ut={};for(const[t,e]of Object.entries(pe)){const n=t.match(/\.\/(.*)\/index\.ts/);(n==null?void 0:n[1])&&(ut[n[1]]=e)}var Oe=async t=>{const e=[],n=[];async function s(o){const i=(await o()).default,{name:r,icon:u,components:p,order:l,dataConfig:c}=i,d=[];for(const[h,y]of Object.entries(p)){const f=(await y()).default;f.type=h,f.dataConfig=c||f.dataConfig,t.component(`cq-${h}`,f.component),d.push(f),e.push(f)}n[l]={groupName:r,icon:u,list:d}}t.component("cq-group",xt);for(const o in ut)await s(ut[o]);return{list:e,group:n}};export{Kt as A,Zt as B,qt as C,be as D,Re as E,Et as F,Se as G,ae as H,R as L,lt as M,Ct as _,Ft as a,Oe as b,ee as c,De as d,Ie as e,At as f,Fe as g,A as h,ke as i,Me as j,Le as k,Z as l,k as m,z as n,H as o,bt as p,Wt as q,Ee as r,Nt as s,xe as t,Pe as u,Ce as v,D as w,Ae as x,Be as y,Bt as z};
