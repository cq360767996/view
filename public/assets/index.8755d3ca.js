import{f as k,_ as N,l as c,L as m}from"./array.73e47aa2.js";import{F as g,a as d,I as f,B as U,m as _}from"./ant-design-vue.9571c210.js";import{e as q}from"./string.095b5887.js";import{t as L}from"./promise.aa1a7cc9.js";import{d as S,d3 as C,r as w,dl as E,d5 as D,d8 as O,dr as v,dq as F,u as e,k as r,d7 as l,a1 as P}from"./vendor.2226048c.js";import"./lodash.39fce032.js";import"./node-forge.c306b4f9.js";import"./echarts.45e47cdd.js";import"./prettier.16e1de69.js";const R={cn:{login:"\u767B\u5F55",user:{login:"\u7528\u6237@:login",name:"\u7528\u6237\u540D",password:"\u5BC6\u7801"},validator:{username:"\u8BF7\u8F93\u5165@:user.name",password:"\u8BF7\u8F93\u5165@:user.password"},notify:{success:"\u767B\u5F55\u6210\u529F!",fail:"\u767B\u5F55\u5931\u8D25!"}},en:{login:"Login",user:{login:"User @:login",name:"User Name",password:"Password"},validator:{username:"Please Enter @:user.name",password:"Please Enter @:user.password"},notify:{success:"@:login Succeed",fail:"@:login Failed"}}},T=n=>k("login",n);const V={class:"login"},A={class:"login-box"},H={class:"ml-20px"},K=S({props:{redirect:{type:String,default:()=>""}},setup(n){const y=n,{t:s}=C({useScope:"local",messages:R}),a=w({name:"ccq",password:"a123456"}),u=w({name:[{required:!0,message:s("validator.username"),trigger:"blur"}],password:[{required:!0,message:s("validator.password"),trigger:"blur"}]}),b=E(),{validate:B}=g.useForm(a,u),x=async()=>{const[i]=await L(B());if(i)return;const{name:o,password:t}=a,p=await T({name:o,password:q(t)});if(p.code===0){const{token:I,name:h}=p.data;c.set(m.AUTHORIZATION,I),c.set(m.USER_INFO,{name:h}),_.success(s("notify.success")),b.push(y.redirect||"/")}else _.error(s("notify.fail"))};return(i,o)=>(D(),O("div",V,[v("div",A,[v("span",H,F(e(s)("user.login")),1),r(e(g),{"hide-required-mark":"","label-align":"left","label-col":{span:8},"wrapper-col":{span:16},model:e(a)},{default:l(()=>[r(e(d),{name:"name",label:e(s)("user.name"),rules:e(u).name},{default:l(()=>[r(e(f),{value:e(a).name,"onUpdate:value":o[0]||(o[0]=t=>e(a).name=t),placeholder:e(s)("user.name")},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),r(e(d),{name:"password",label:e(s)("user.password"),rules:e(u).password},{default:l(()=>[r(e(f),{value:e(a).password,"onUpdate:value":o[1]||(o[1]=t=>e(a).password=t),placeholder:e(s)("user.password")},null,8,["value","placeholder"])]),_:1},8,["label","rules"]),r(e(d),{"wrapper-col":{span:8,offset:8}},{default:l(()=>[r(e(U),{type:"primary",onClick:x},{default:l(()=>[P(F(e(s)("login")),1)]),_:1})]),_:1})]),_:1},8,["model"])])]))}});var X=N(K,[["__scopeId","data-v-3db136ed"]]);export{X as default};
