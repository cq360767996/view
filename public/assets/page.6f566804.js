import{t as p,o as v,d as B,dc as b,cW as g,n as A,cY as h,cZ as E,c_ as n,u as o,D as m,dg as c,c$ as j,dh as F,k as x,F as M,di as S}from"./vendor.9e5eac67.js";import{g as P,d as V,e as N}from"./array.409b52c0.js";import{m as l,T,D as $}from"./ant-design-vue.85892d4c.js";import"./node-forge.b43c0005.js";import"./lodash.7b2b5227.js";import"./echarts.e29966f3.js";import"./prettier.51b320b7.js";const I={cn:{author:"\u4F5C\u8005",view:"\u67E5\u770B",delete:"\u5220\u9664",description:"\u63CF\u8FF0",title:"\u6807\u9898",pageMode:"\u6A21\u5F0F",width:"\u5BBD",height:"\u9AD8",action:"\u64CD\u4F5C",deleteSucceed:"@:delete\u6210\u529F",deleteFailed:"@:delete\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"},en:{author:"Author",view:"View",delete:"Delete",description:"Description",title:"Title",pageMode:"PageMode",width:"Width",height:"Height",action:"Action",deleteSucceed:"Success",deleteFailed:"@:delete Failed. Please try again later."}},W=()=>{const u=p([]),s=async()=>{const i=await P();i.code===0?u.value=i.data:l.error("\u670D\u52A1\u5668\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E")};return v(s),{pages:u,getAllPage:s}},z=["onClick"],H=["onClick"],L=B({setup(u){const{pages:s,getAllPage:i}=W(),f=b(),{t:e}=g({useScope:"local",messages:I}),{locale:C}=g({useScope:"global"}),d=p([]);function D(){return N([{title:e("author"),key:"author"},{title:e("description"),key:"description"},{title:e("title"),key:"title"},{title:e("pageMode"),key:"pageMode"},{title:e("width"),key:"width"},{title:e("height"),key:"height"},{title:e("action"),key:"action"}])}function k(t){f.push({path:`/editor/${t}`,params:{id:t}})}async function y(t){(await V(t)).code===0?(l.success(e("deleteSucceed")),i()):l.error(e("deleteFailed"))}return A(()=>{C.value&&(d.value=D())}),(t,_)=>(h(),E(o(T),{bordered:"",size:"small","data-source":o(s),columns:d.value,"row-key":"_id"},{width:n(({text:a})=>[m(c(a)+"px ",1)]),height:n(({text:a})=>[m(c(a)+"px ",1)]),bodyCell:n(({column:a,record:r})=>[a.dataIndex==="action"?(h(),j(M,{key:0},[F("a",{onClick:w=>k(r._id)},c(o(e)("view")),9,z),x(o($),{type:"vertical"}),F("a",{onClick:w=>y(r._id)},c(o(e)("delete")),9,H)],64)):S("",!0)]),_:1},8,["data-source","columns"]))}});export{L as default};
