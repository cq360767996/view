var et=Object.defineProperty,tt=Object.defineProperties;var nt=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var _e=(e,t,n)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))ve.call(t,n)&&_e(e,n,t[n]);if(ne)for(var n of ne(t))Ae.call(t,n)&&_e(e,n,t[n]);return e},R=(e,t)=>tt(e,nt(t));var ce=(e,t)=>{var n={};for(var a in e)ve.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&ne)for(var a of ne(e))t.indexOf(a)<0&&Ae.call(e,a)&&(n[a]=e[a]);return n};import{m as C,T as Re,E as at}from"./ant-design-vue.06bcb110.js";import{r as j,P as ae,t as re,o as W,x as de,y as Ce,q as he,w as ot,d4 as X,d5 as fe,d6 as ut,d7 as Le,Z as oe,d8 as it,d9 as st,da as lt,cV as pe,db as ct,d as ue,k as me,cX as x,cY as ge,dc as ke,dd as Se,de as Ue,df as xe,dg as Te,dh as ze,di as Pe,dj as Ye,dk as be,a5 as De,dl as rt,dm as dt,c_ as V,dn as Xe,F as Fe,dp as Me,u as ie,dq as ht,N as je,dr as ft,ds as pt,l as g,dt as $,du as mt,dv as $e,ae as gt,Y as bt}from"./vendor.5d3ecb3a.js";import{g as Be,h as T}from"./lodash.1c8524b2.js";import"./node-forge.bef54000.js";import{g as Dt}from"./echarts.c0cd6df1.js";import"./prettier.685e070b.js";const Ft=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}};Ft();const G=(e,t,n)=>{document.addEventListener(e,t,n)},Z=(e,t,n)=>{document.removeEventListener(e,t,n)},Ie=e=>{const t=["width","height","top","left","bottom","right","fontSize","borderWidth","borderRadius"],n={};for(const[a,o]of Object.entries(e))if(!!o){if(a==="rotate"){n.transform=`rotate(${o}deg)`;continue}if(a==="scale"){n.transform=`scale(${o/100})`;continue}n[a]=t.includes(a)?o+"px":o}return n},Bt=(e,t=!0)=>{const d=e,{width:n,height:a,left:o,top:u}=d,i=ce(d,["width","height","left","top"]),c=t?{width:n,height:a,left:o,top:u}:O({},i);return Ie(c)};var Oe={maxSnapshot:20,defaultComponentSize:{width:100,height:100},defaultPageSize:{width:1920,height:1080}};const en=["url","static"];var Ge;(function(e){e.RADIO="radio",e.CHECKBOX="checkbox",e.INPUT="input",e.INPUT_NUMBER="input-number",e.SELECT="select",e.SWITCH="switch",e.SLIDER="slider",e.COLOR_PICKER="color-picker",e.BTN_GROUP="btn-group",e.TEXTAREA="textarea",e.CUSTOM="custom"})(Ge||(Ge={}));var H;(function(e){e.USER_INFO="user-info",e.AUTHORIZATION="authorization",e.IS_DARK="is-dark"})(H||(H={}));var v;(function(e){e.X="x",e.Y="y"})(v||(v={}));const tn=()=>{const e=A(),t=j({show:!1,style:{width:0,height:0,top:0,left:0}});return{selectMask:t,handleMousedown:a=>{if(a.buttons===1){t.show=!0;const{pageX:o,pageY:u}=a,i=Ct(o,u);if(!i)return;t.style=R(O(O({},t.style),i),{width:0,height:0});const c=f=>{const{pageX:r,pageY:l}=f,h=z(r-o),m=z(l-u);h<0&&(t.style.left=i.left+h),m<0&&(t.style.top=i.top+m),t.style.width=Math.abs(h),t.style.height=Math.abs(m),e.calcSelectedByRect(t.style)},d=f=>{f.stopPropagation(),Z("mousemove",c),Z("mouseup",d),t.show=!1,f.clientX==o&&f.clientY==u&&e.cancelSelected()};G("mousemove",c),G("mouseup",d)}}}},It=()=>{const e=n=>{const o=A().refs[n];if(o){const u=Dt(o);u==null||u.resize()}};return{handleEchartsResize:e,handleAllEchartsResize:n=>{for(let a=0,o=n.data.length;a<o;a++)e(a)}}},nn=(e,t,n)=>{const a=ae(),o=j({width:0,height:0,top:0,left:0}),u=re(!0),i=K(),c=we(),d=()=>{if(!e.value||!t.value||!a.value)return;const{width:b,height:D}=e.value.getBoundingClientRect(),{width:E,height:I}=t.value.getBoundingClientRect(),{width:F,height:s}=a.value.getBoundingClientRect(),p=E/b,B=I/D;o.width=Math.min(p*F,F),o.height=Math.min(B*s,s),n.value++},f=b=>{if(b.buttons!==1||!a.value)return;const D=b.target;let E=b.clientX,I=b.clientY,{left:F,top:s}=o;const{width:p,height:B}=a.value.getBoundingClientRect(),{width:M,height:q}=D.getBoundingClientRect(),P=p-M,L=B-q,k=_=>{if(_.stopPropagation(),!t.value||!e.value)return;const{clientX:w,clientY:Y}=_,U=w-E,le=Y-I;let ee=0,te=0;U<0&&o.left<=0?(E=w,F=0,ee=0):U>=0&&o.left>=P?(E=w,F=P,ee=P):ee=F+U,le<0&&o.top<=0?(I=Y,s=0,te=0):le>=0&&o.top>=L?(I=Y,s=L,te=L):te=s+le,o.left=ee,o.top=te},S=_=>{_.stopPropagation(),Z("mousemove",k),Z("mouseup",S)};G("mousemove",k),G("mouseup",S)},r=()=>{if(!e.value||!t.value||!a.value)return;const b=K(),D=a.value.getContext("2d");if(!D)return;const{width:E,height:I}=a.value;D.clearRect(0,0,E,I);const{width:F,height:s}=a.value.getBoundingClientRect(),{width:p,height:B}=e.value.getBoundingClientRect(),{width:M,height:q}=b.config,P=F/z(p),L=s/z(B),k=P*2,S=L*2,_=M*k,w=q*S,Y=60*k,U=60*S;D.strokeStyle="#1890ff",D.lineWidth=2,D.strokeRect(Y,U,_,w)},l=Be(d,100),h=Be(r,100),m=()=>{if(!e.value||!t.value||!a.value)return;const{width:b,height:D}=e.value.getBoundingClientRect(),{width:E,height:I}=a.value.getBoundingClientRect(),{scrollLeft:F,scrollTop:s}=t.value;o.left=F/b*E,o.top=s/D*I};return W(()=>{window.addEventListener("resize",l),window.addEventListener("resize",h),de(()=>{d(),r()})}),Ce(()=>{window.removeEventListener("resize",l),window.removeEventListener("resize",h)}),he(()=>{if(!t.value||!a.value||!e.value)return;const{width:b,height:D}=e.value.getBoundingClientRect(),{width:E,height:I}=a.value.getBoundingClientRect(),F=o.left*b/E,s=o.top*D/I;t.value.scroll(F,s)}),ot(c,()=>{setTimeout(()=>{d(),r()},300)}),he(()=>{i.config.scale&&(l(),h())}),{viewportSize:o,resizeViewport:d,thumbnailRef:a,handleThumbnailMousedown:f,syncScroll:m,showThumbnail:u,switchThumbnail:()=>{u.value=!u.value}}},an=e=>{const t=K(),n=j({width:0,height:0}),a=re(0),o=c=>c+"%",u=()=>{if(!e.value)return;const{width:c,height:d}=e.value.getBoundingClientRect(),{width:f,height:r}=t.config,l=z(f+400,!0),h=z(r+400,!0),m=c-4,y=d-4;n.width=l<=m?m:l,n.height=h<=y?y:h,a.value++},i=Be(u,100);return W(()=>{he(()=>{t.config.scale&&u()})}),{sliderFormatter:o,handleSliderChange:i,screenShotSize:n,rulerKey:a}},on=()=>{const e=j([{direction:v.X,marklineDct:v.Y,marklines:[]},{direction:v.Y,marklineDct:v.X,marklines:[]}]);return{rulerData:e,getStyle:(u,i)=>{const c=u===v.Y?" rotate(90deg)":"",d=u===v.Y?"top":"left";return`transform:${c} translateX(${i[d]}px)`},getUnit:u=>u===v.X?"width":"height",addMarkline:(u,i)=>{const{clientX:c,clientY:d}=u,f=u.target,{left:r,top:l}=f.getBoundingClientRect(),[h,m]=i===v.X?[d-l,1]:[c-r,0];e[m].marklines.push(h)},cancelMarkline:(u,i)=>{const c=i===v.X?0:1;e[c].marklines.splice(u,1)}}},un=()=>{const e=K(),t=we(),n=A(),a={Backspace:()=>n.del(),a:u=>u&&n.selectAll(),s:u=>u&&e.savePage(),c:u=>u&&n.copy(),ArrowLeft:u=>{u?t.switchPanelShow("layer"):n.selected.forEach(i=>{n.data[i].style.left-=e.config.gap})},ArrowUp:u=>{u?t.switchPanelShow("component"):n.selected.forEach(i=>{n.data[i].style.top-=e.config.gap})},ArrowRight:u=>{u?t.switchPanelShow("config"):n.selected.forEach(i=>{n.data[i].style.left+=e.config.gap})},ArrowDown:()=>{n.selected.forEach(u=>{n.data[u].style.top+=e.config.gap})}},o=u=>{var c;if(!((c=document.querySelector(".canvas-wrapper"))==null?void 0:c.contains(document.activeElement)))return;const i=a[u.key];if(i){u.preventDefault(),u.stopPropagation();const d=u.ctrlKey||u.metaKey;i(d)}};W(()=>G("keydown",o)),Ce(()=>Z("keydown",o))},He=X("gallery",{state(){return{group:[],list:[]}},actions:{setGroup(e,t){this.group[e]=t},pushList(e){this.list.push(e)},getGallery(e){const t=this.list.find(n=>n.type===e);if(t)return T(t)}}}),A=X("board",{state:()=>({selected:[],data:[],refs:[],offset:{left:0,top:0}}),getters:{curCom(e){return e.selected.length>0?e.data[e.selected[0]]:void 0},curComs(e){return e.selected.map(t=>e.data[t])}},actions:{rawAppend(e){const t=[],n=[];Array.isArray(e)?e.forEach((a,o)=>{t.push(a),n.push(this.data.length+o)}):(t.push(e),n.push(this.data.length)),this.data.push(...t),this.selected=n},append({top:e=0,left:t=0,type:n=""}){const o=He().getGallery(n);if(!o)throw new Error("\u83B7\u53D6\u4E0D\u5230\u8BE5\u7EC4\u4EF6\u4FE1\u606F");const{style:u,data:i,propsData:c}=T(o),d=0,f=1,r=n,l=fe(),h=O(O({top:e,left:t,rotate:d,opacity:f},Oe.defaultComponentSize),u),m=o.name;this.rawAppend({id:l,component:r,label:m,propsData:c,style:h,data:i})},del(){this.selected.length>0&&(qe(this.data,this.selected),this.selected=[],C.success("\u5220\u9664\u6210\u529F\uFF01"))},cancelSelected(){this.selected=[]},setIndex(e){const t=typeof e=="number"?[e]:e,n=[],{data:a}=this;t.forEach(o=>{!a[o].locked&&a[o].style.display!=="none"&&n.push(o)}),this.selected=n},spliceSelected(e){this.selected.splice(this.selected.indexOf(e),1)},appendSelected(e){const{data:t}=this,n=typeof e=="number"?[e]:e,a=[];n.forEach(o=>{!t[o].locked&&t[o].style.display!=="none"&&a.push(o)}),this.selected.push(...a)},changeSelected(e){this.selected.includes(e)?this.spliceSelected(e):this.appendSelected(e)},setBoard(e){e?Object.assign(this,e):(this.data=[],this.selected=[]),de(()=>{const{handleAllEchartsResize:t}=It();t(this)})},copy(){if(this.selected.length>0){const e=this.selected.map(t=>{const n=T(this.data[t]);return n.style.left+=10,n.style.top+=10,n});this.rawAppend(e)}},moveUp(e=!1){const{data:t,selected:n}=this,a=t.length;if(n.length!==0)if(n.length>1)C.error("\u591A\u9009\u65E0\u6CD5\u79FB\u52A8");else if(n[0]===a-1)C.error("\u5DF2\u7ECF\u662F\u6700\u9876\u5C42\uFF01");else{const o=e?a-1:n[0]+1;[t[n[0]],t[o]]=[t[o],t[n[0]]]}},moveDown(e=!1){const{data:t,selected:n}=this;if(n.length!==0)if(n.length>1)C.error("\u591A\u9009\u65E0\u6CD5\u79FB\u52A8");else if(n[0]===0)C.error("\u5DF2\u7ECF\u662F\u6700\u5E95\u5C42\uFF01");else{const a=e?0:n[0]-1;[t[n[0]],t[a]]=[t[a],t[n[0]]]}},calcSelectedByRect(e){this.cancelSelected();const t=[];this.data.forEach((n,a)=>{const{width:o,height:u,left:i,top:c}=n.style,d=Math.min(i,e.left),f=Math.min(c,e.top),r=Math.max(i+o,e.left+e.width),l=Math.max(c+u,e.top+e.height),h=r-d,m=l-f;h<o+e.width&&m<u+e.height&&t.push(a)}),this.setIndex(t)},group(){const{selected:e,data:t}=this,n=qe(t,e),a=n.reduce((l,h)=>{const{left:m,top:y,width:b,height:D}=h.style;return{leftX:Math.min(l.leftX,m),leftY:Math.min(l.leftY,y),rightX:Math.max(l.rightX,b+m),rightY:Math.max(l.rightY,D+y)}},{leftX:1/0,leftY:1/0,rightX:0,rightY:0}),{leftX:o,leftY:u,rightX:i,rightY:c}=a;n.forEach(l=>{l.style.top-=u,l.style.left-=o});const d=i-o,f=c-u,r={id:fe(),component:"group",label:"\u6210\u7EC4",group:n,style:{top:u,left:o,width:d,height:f,rotate:0,opacity:1}};e.length=0,this.rawAppend(r)},cancelGroup(){const{selected:e,data:t}=this,n=t[e[0]];t.splice(e[0],1);const a=n.group;if(!a)return;const{left:o,top:u}=n.style,i=[];a.forEach(c=>{c.style.left+=o,c.style.top+=u,i.push(c)}),this.rawAppend(i)},toggleLocked(e){const{data:t,selected:n}=this;(typeof e=="number"?[e]:[...e]).forEach(o=>{const u=t[o],i=n.indexOf(o);u.locked=!u.locked,u.locked&&i>-1&&n.splice(i,1)})},hide(e){const{data:t,selected:n}=this;(typeof e=="number"?[e]:[...e]).forEach(o=>{t[o].style.display="none";const u=n.indexOf(o);u>-1&&n.splice(u,1)})},show(e){this.data[e].style.display="block"},selectAll(){const{data:e}=this;this.selected=e.map((t,n)=>n)},clearRefs(){this.refs.length=0},setOffset(e){this.offset=e},pushRef(e){this.refs.push(e)}}}),Ot="\u8FDE\u63A5\u51FA\u9519\u4E86~",Ee=e=>{const t=typeof e=="string"?e:Ot;return Promise.resolve({code:-1e4,msg:t})},Et="/api/v1/",wt=e=>{const t={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${e})!`};return`${t[e]||t[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},N=ut.create({baseURL:Et,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=Le.parse(e)),e)]});N.interceptors.request.use(e=>{const t=se.get(H.AUTHORIZATION);return t&&e.headers&&(e.headers.authorization=t),e},Ee);N.interceptors.response.use(async e=>{const t=e.status;return t<200||t>=300?Ee(wt(t)):e.data},Ee);const Ne=(e,t,n)=>N.get(e,R(O({},n),{params:t})),yt=(e,t,n)=>N.post(e,t,n),vt=(e,t,n)=>N.put(e,t,n),At=(e,t,n)=>N.delete(e,R(O({},n),{params:t})),J="page",_t=e=>yt(J,e),sn=e=>At(`${J}/${e}`),Rt=e=>vt(J,e),ln=e=>Ne(`${J}/${e}`),cn=()=>Ne(J),K=X("page",{state(){const e=R(O({_id:"",__v:0},Oe.defaultPageSize),{title:"",description:"",backgroundColor:"",scale:100,gap:1,url:"",zoom:0,author:"",pageMode:0});return{config:e,cache:R(O({},e),{components:[]})}},actions:{updateCache(){const e=A();Object.assign(this.cache,this.config),this.cache.components=T(oe(e.data))},async savePage(){const e=A(),t=it();if(e.data.length===0){C.error("\u5C1A\u672A\u6DFB\u52A0\u4EFB\u4F55\u7EC4\u4EF6\uFF01");return}const n=T(oe(e.data)),a=O({components:n},this.config),i=a,{_id:o}=i,u=ce(i,["_id"]);if(o)(await Rt(oe(a))).code===0&&(C.success("\u4FDD\u5B58\u6210\u529F\uFF01"),this.updateCache());else{const c=await _t(O({},u));c.code===0&&(C.success("\u521B\u5EFA\u6210\u529F\uFF01"),this.config._id=c.data._id,this.updateCache(),t.push(`/editor/${c.data._id}`))}},isModified(){const e=A(),t=R(O({},this.config),{components:oe(e.data)});return JSON.stringify(t)!==JSON.stringify(this.cache)}}}),rn=X("snapshot",{state:()=>({data:[],index:-1}),actions:{undo(){if(this.index>-1){this.index--;const e=this.index===-1?void 0:T(this.data[this.index]);if(e){const{selected:t,page:n}=e,{components:a}=n;A().setBoard({selected:t,data:a})}}},redo(){if(this.index<this.data.length-1){this.index++;const e=A(),t=T(this.data[this.index]),{selected:n,page:a}=t,{components:o}=a;e.setBoard({selected:n,data:o})}},rawRecordSnapshot(e,t){this.data[++this.index]={page:e,selected:t},this.index<this.data.length-1&&(this.data=this.data.slice(0,this.index+1)),this.data.length>Oe.maxSnapshot&&this.data.shift(),C.success("\u4FDD\u5B58\u6210\u529F\uFF01")},recordSnapshot(){const e=K(),t=A(),{data:n,selected:a}=t,o=T(n),u=R(O({},e.config),{components:o});this.rawRecordSnapshot(u,a)}}}),dn=X("theme",{state(){return{value:"light"}},actions:{async changeTheme(e){this.value=e,e==="dark"?(lt||await st(),se.set(H.IS_DARK,1)):se.remove(H.IS_DARK),document.documentElement.setAttribute("data-theme",this.value)},async switchTheme(){const e=se.get(H.IS_DARK);this.changeTheme(e?"light":"dark")}}}),we=X("panel",{state(){return{layer:!0,component:!0,config:!0,util:!0}},actions:{switchPanelShow(e){this[e]=!this[e]}}});var Q;(function(e){e.BOARD="board",e.LAYER="layer"})(Q||(Q={}));const Ke=X("menu",{state(){return{board:{show:!1,style:{}},layer:{show:!1,style:{}}}},actions:{show(e,t,n){e.preventDefault();const{pageX:a,pageY:o}=e;n.selected.length!==0&&(this[t].show=!0,de(()=>{const{ref:u,container:i,style:c}=this[t];if(!u||!i)return;const d=10,{width:f,height:r}=u.getBoundingClientRect(),{width:l,height:h,left:m,top:y}=i.getBoundingClientRect();c.left=Math.min(a-m,l-f-d),c.top=Math.min(o-y,h-r-d)}))},hide(e){this[e].show=!1},hideAll(){Object.values(Q).forEach(e=>{this.hide(e)})},setRefAndContainer(e,t,n){this[e].ref=t,this[e].container=n}}});function z(e,t=!1){const a=K().config.scale/100,o=t?e*a:e/a;return Math.floor(o)}const Ct=(e,t,n=".board")=>{const a=document.querySelector(n);if(!a)return;const o=a.getBoundingClientRect();return{top:z(t-o.top),left:z(e-o.left)}},se={set(e,t,n=864e5){const a=typeof t=="string"?t:Le.stringify(t);return localStorage.setItem(e,a),localStorage.setItem(`${e}__expires__`,Date.now()+n+""),t},get(e){const t=Date.now(),n=localStorage.getItem(`${e}__expires__`)||t+1;if(t>=n){this.remove(e);return}return localStorage.getItem(e)},remove(e){localStorage.removeItem(e),localStorage.removeItem(`${e}__expires__`)}},hn=e=>e.map(t=>R(O({},t),{dataIndex:t.dataIndex||t.key,align:"center",slots:{customRender:t.key}})),qe=(e,t)=>{const n=t.map(a=>e[a]);return n.forEach(a=>{const o=e.indexOf(a);e.splice(o,1)}),n},We=e=>{const{selected:t,data:n}=e;if(t.length<=1)return!0;let a=0;return t.forEach(o=>{if(!n[o])return;const{group:u}=n[o];(!u||u.length===0)&&a++}),a!==t.length},Ve=e=>{const{selected:t,data:n}=e;if(t.length!==1)return!0;const{group:a}=n[t[0]];return!(a==null?void 0:a.length)},Lt="modulepreload",Ze={},kt="/",Je=function(t,n){return!n||n.length===0?t():Promise.all(n.map(a=>{if(a=`${kt}${a}`,a in Ze)return;Ze[a]=!0;const o=a.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":Lt,o||(i.as="script",i.crossOrigin=""),i.href=a,document.head.appendChild(i),o)return new Promise((c,d)=>{i.addEventListener("load",c),i.addEventListener("error",d)})})).then(()=>t())};var Qe=(e,t)=>{for(const[n,a]of t)e[n]=a;return e};const St={cn:{add:"\u6DFB\u52A0",preview:"\u9884\u89C8",tip:"\u5C1A\u672A\u9009\u62E9\u4EFB\u4F55\u52A8\u753B",animation:{name:"\u52A8\u753B",duration:"\u65F6\u957F",delay:"\u5EF6\u8FDF",times:"\u5FAA\u73AF\u6B21\u6570"},title:{emphasis:"\u5F3A\u8C03",delay:"\u5EF6\u8FDF",jump:"\u8DF3\u8DC3",fade:"\u6DE1\u5165/\u6DE1\u51FA",flip:"\u7FFB\u8F6C",lightSpeed:"\u5149\u901F",rotate:"\u65CB\u8F6C",zoom:"\u653E\u7F29",slide:"\u6ED1\u52A8",special:"\u7279\u6B8A"},animations:{bounce:"\u5F39\u8DF3",flash:"\u95EA\u70C1",pulse:"\u653E\u5927\u7F29\u5C0F",rubberBand:"\u653E\u5927\u7F29\u5C0F\u5F39\u7C27",shakeX:"\u5DE6\u53F3\u6643\u52A8",shakeY:"\u4E0A\u4E0B\u6643\u52A8",headShake:"\u5DE6\u53F3\u5C0F\u5E45\u6643\u52A8",swing:"\u5DE6\u53F3\u6247\u5F62\u6447\u6446",tada:"\u653E\u5927\u6643\u52A8\u7F29\u5C0F",wobble:"\u5C0F\u5E45\u6247\u5F62\u6447\u6446",jello:"\u679C\u51BB\u6447\u6643",heartBeat:"Y\u8F74\u65CB\u8F6C",backInDown:"\u5EF6\u8FDF\u4E0A\u65B9\u8FDB\u5165",backInLeft:"\u5EF6\u8FDF\u5DE6\u4FA7\u8FDB\u5165",backInRight:"\u5EF6\u8FDF\u53F3\u4FA7\u8FDB\u5165",backInUp:"\u5EF6\u8FDF\u4E0B\u65B9\u8FDB\u5165",backOutDown:"\u5EF6\u8FDF\u4E0B\u65B9\u9000\u51FA",backOutLeft:"\u5EF6\u8FDF\u5DE6\u4FA7\u9000\u51FA",backOutRight:"\u5EF6\u8FDF\u53F3\u4FA7\u9000\u51FA",backOutUp:"\u5EF6\u8FDF\u4E0A\u65B9\u9000\u51FA",bounceIn:"\u8DF3\u8DC3\u8FDB\u5165",bounceInDown:"\u4E0A\u65B9\u8DF3\u8DC3\u8FDB\u5165",bounceInLeft:"\u5DE6\u4FA7\u8DF3\u8DC3\u8FDB\u5165",bounceInRight:"\u53F3\u4FA7\u8DF3\u8DC3\u8FDB\u5165",bounceInUp:"\u4E0B\u65B9\u8DF3\u8DC3\u8FDB\u5165",bounceOut:"\u8DF3\u8DC3\u9000\u51FA",bounceOutDown:"\u4E0B\u65B9\u8DF3\u8DC3\u9000\u51FA",bounceOutLeft:"\u5DE6\u4FA7\u8DF3\u8DC3\u9000\u51FA",bounceOutRight:"\u53F3\u4FA7\u8DF3\u8DC3\u9000\u51FA",bounceOutUp:"\u4E0A\u65B9\u8DF3\u8DC3\u9000\u51FA",fadeIn:"\u6DE1\u5165",fadeInDown:"\u4E0A\u65B9\u6DE1\u5165",fadeInDownBig:"\u4E0A\u65B9\u8FDC\u8DDD\u79BB\u6DE1\u5165",fadeInLeft:"\u5DE6\u4FA7\u6DE1\u5165",fadeInLeftBig:"\u5DE6\u4FA7\u8FDC\u8DDD\u79BB\u6DE1\u5165",fadeInRight:"\u53F3\u4FA7\u6DE1\u5165",fadeInRightBig:"\u53F3\u4FA7\u8FDC\u8DDD\u79BB\u6DE1\u5165",fadeInUp:"\u4E0A\u65B9\u6DE1\u5165",fadeInUpBig:"\u4E0A\u65B9\u8FDC\u8DDD\u79BB\u6DE1\u5165",fadeInTopLeft:"\u5DE6\u4E0A\u6DE1\u5165",fadeInTopRight:"\u53F3\u4E0A\u6DE1\u5165",fadeInBottomLeft:"\u5DE6\u4E0B\u6DE1\u5165",fadeInBottomRight:"\u53F3\u4E0B\u6DE1\u5165",fadeOut:"\u6DE1\u51FA",fadeOutDown:"\u4E0B\u65B9\u6DE1\u51FA",fadeOutDownBig:"\u4E0B\u65B9\u8FDC\u8DDD\u79BB\u6DE1\u51FA",fadeOutLeft:"\u5DE6\u4FA7\u6DE1\u51FA",fadeOutLeftBig:"\u5DE6\u4FA7\u8FDC\u8DDD\u79BB\u6DE1\u51FA",fadeOutRight:"\u53F3\u4FA7\u6DE1\u51FA",fadeOutRightBig:"\u53F3\u4FA7\u8FDC\u8DDD\u79BB\u6DE1\u51FA",fadeOutUp:"\u4E0A\u65B9\u6DE1\u51FA",fadeOutUpBig:"\u4E0A\u65B9\u8FDC\u8DDD\u79BB\u6DE1\u51FA",fadeOutTopLeft:"\u5DE6\u4E0A\u6DE1\u51FA",fadeOutTopRight:"\u53F3\u4E0A\u6DE1\u51FA",fadeOutBottomRight:"\u5DE6\u4E0B\u6DE1\u51FA",fadeOutBottomLeft:"\u53F3\u4E0B\u6DE1\u51FA",flip:"\u7FFB\u8F6C",flipInX:"\u6A2A\u5411\u7FFB\u8F6C\u8FDB\u5165",flipInY:"\u7EB5\u5411\u7FFB\u8F6C\u8FDB\u5165",flipOutX:"\u6A2A\u5411\u7FFB\u8F6C\u9000\u51FA",flipOutY:"\u7EB5\u5411\u7FFB\u8F6C\u9000\u51FA",lightSpeedInRight:"\u53F3\u4FA7\u5149\u901F\u8FDB\u5165",lightSpeedInLeft:"\u5DE6\u4FA7\u5149\u901F\u8FDB\u5165",lightSpeedOutRight:"\u53F3\u4FA7\u5149\u901F\u9000\u51FA",lightSpeedOutLeft:"\u5DE6\u4FA7\u5149\u901F\u9000\u51FA",rotateIn:"\u65CB\u8F6C\u8FDB\u5165",rotateInDownLeft:"\u5DE6\u4E0A\u65CB\u8F6C\u8FDB\u5165",rotateInDownRight:"\u53F3\u4E0A\u65CB\u8F6C\u8FDB\u5165",rotateInUpLeft:"\u53F3\u4E0B\u65CB\u8F6C\u8FDB\u5165",rotateInUpRight:"\u5DE6\u4E0B\u65CB\u8F6C\u8FDB\u5165",rotateOut:"\u65CB\u8F6C\u9000\u51FA",rotateOutDownLeft:"\u5DE6\u4E0B\u65CB\u8F6C\u9000\u51FA",rotateOutDownRight:"\u53F3\u4E0B\u65CB\u8F6C\u9000\u51FA",rotateOutUpLeft:"\u5DE6\u4E0A\u65CB\u8F6C\u9000\u51FA",rotateOutUpRight:"\u53F3\u4E0A\u65CB\u8F6C\u9000\u51FA",zoomIn:"\u653E\u7F29\u8FDB\u5165",zoomInDown:"\u4E0A\u65B9\u653E\u7F29\u8FDB\u5165",zoomInLeft:"\u5DE6\u4FA7\u653E\u7F29\u8FDB\u5165",zoomInRight:"\u53F3\u4FA7\u653E\u7F29\u8FDB\u5165",zoomInUp:"\u4E0B\u65B9\u653E\u7F29\u8FDB\u5165",zoomOut:"\u653E\u7F29\u9000\u51FA",zoomOutDown:"\u4E0B\u65B9\u653E\u7F29\u9000\u51FA",zoomOutLeft:"\u5DE6\u4FA7\u653E\u7F29\u9000\u51FA",zoomOutRight:"\u53F3\u4FA7\u653E\u7F29\u9000\u51FA",zoomOutUp:"\u4E0A\u65B9\u653E\u7F29\u9000\u51FA",slideInDown:"\u4E0A\u65B9\u6ED1\u5165",slideInLeft:"\u5DE6\u4FA7\u6ED1\u5165",slideInRight:"\u53F3\u4FA7\u6ED1\u5165",slideInUp:"\u4E0B\u65B9\u6ED1\u5165",slideOutDown:"\u4E0B\u65B9\u6ED1\u51FA",slideOutLeft:"\u5DE6\u4FA7\u6ED1\u51FA",slideOutRight:"\u53F3\u4FA7\u6ED1\u51FA",slideOutUp:"\u4E0A\u65B9\u6ED1\u51FA",hinge:"\u60AC\u6302\u6389\u843D",jackInTheBox:"\u4E0B\u65B9\u98DE\u5165",rollIn:"\u98DE\u5165",rollOut:"\u98DE\u51FA"}},en:{add:"Add",preview:"preview",tip:"There is no animation",animation:{name:"Animation",duration:"Duration",delay:"Delay",times:"Times"},title:{emphasis:"Emphasis",delay:"Delay",jump:"Jump",fade:"Fade",flip:"Flip",lightSpeed:"Light Speed",rotate:"Rotate",zoom:"Zoom",slide:"Slide",special:"Special"},animations:{bounce:"bounce",flash:"flash",pulse:"pulse",rubberBand:"rubberBand",shakeX:"shakeX",shakeY:"shakeY",headShake:"headShake",swing:"swing",tada:"tada",wobble:"wobble",jello:"jello",heartBeat:"heartBeat",backInDown:"backInDown",backInLeft:"backInLeft",backInRight:"backInRight",backInUp:"backInUp",backOutDown:"backOutDown",backOutLeft:"backOutLeft",backOutRight:"backOutRight",backOutUp:"backOutUp",bounceIn:"bounceIn",bounceInDown:"bounceInDown",bounceInLeft:"bounceInLeft",bounceInRight:"bounceInRight",bounceInUp:"bounceInUp",bounceOut:"bounceOut",bounceOutDown:"bounceOutDown",bounceOutLeft:"bounceOutLeft",bounceOutRight:"bounceOutRight",bounceOutUp:"bounceOutUp",fadeIn:"fadeIn",fadeInDown:"fadeInDown",fadeInDownBig:"fadeInDownBig",fadeInLeft:"fadeInLeft",fadeInLeftBig:"fadeInLeftBig",fadeInRight:"fadeInRight",fadeInRightBig:"fadeInRightBig",fadeInUp:"fadeInUp",fadeInUpBig:"fadeInUpBig",fadeInTopLeft:"fadeInTopLeft",fadeInTopRight:"fadeInTopRight",fadeInBottomLeft:"fadeInBottomLeft",fadeInBottomRight:"fadeInBottomRight",fadeOut:"fadeOut",fadeOutDown:"fadeOutDown",fadeOutDownBig:"fadeOutDownBig",fadeOutLeft:"fadeOutLeft",fadeOutLeftBig:"fadeOutLeftBig",fadeOutRight:"fadeOutRight",fadeOutRightBig:"fadeOutRightBig",fadeOutUp:"fadeOutUp",fadeOutUpBig:"fadeOutUpBig",fadeOutTopLeft:"fadeOutTopLeft",fadeOutTopRight:"fadeOutTopRight",fadeOutBottomRight:"fadeOutBottomRight",fadeOutBottomLeft:"fadeOutBottomLeft",flip:"flip",flipInX:"flipInX",flipInY:"flipInY",flipOutX:"flipOutX",flipOutY:"flipOutY",lightSpeedInRight:"lightSpeedInRight",lightSpeedInLeft:"lightSpeedInLeft",lightSpeedOutRight:"lightSpeedOutRight",lightSpeedOutLeft:"lightSpeedOutLeft",rotateIn:"rotateIn",rotateInDownLeft:"rotateInDownLeft",rotateInDownRight:"rotateInDownRight",rotateInUpLeft:"rotateInUpLeft",rotateInUpRight:"rotateInUpRight",rotateOut:"rotateOut",rotateOutDownLeft:"rotateOutDownLeft",rotateOutDownRight:"rotateOutDownRight",rotateOutUpLeft:"rotateOutUpLeft",rotateOutUpRight:"rotateOutUpRight",zoomIn:"zoomIn",zoomInDown:"zoomInDown",zoomInLeft:"zoomInLeft",zoomInRight:"zoomInRight",zoomInUp:"zoomInUp",zoomOut:"zoomOut",zoomOutDown:"zoomOutDown",zoomOutLeft:"zoomOutLeft",zoomOutRight:"zoomOutRight",zoomOutUp:"zoomOutUp",slideInDown:"slideInDown",slideInLeft:"slideInLeft",slideInRight:"slideInRight",slideInUp:"slideInUp",slideOutDown:"slideOutDown",slideOutLeft:"slideOutLeft",slideOutRight:"slideOutRight",slideOutUp:"slideOutUp",hinge:"hinge",jackInTheBox:"jackInTheBox",rollIn:"rollIn",rollOut:"rollOut"}}},Ut={cn:{top:"\u7F6E\u9876",bottom:"\u7F6E\u5E95",up:"\u4E0A\u79FB",down:"\u4E0B\u79FB",group:"\u6210\u7EC4",cancelGroup:"\u53D6\u6D88\u6210\u7EC4",lock:"\u9501\u5B9A",hide:"\u9690\u85CF",layer:"\u56FE\u5C42",tip:"\u5C1A\u672A\u6DFB\u52A0\u4EFB\u4F55\u7EC4\u4EF6"},en:{top:"Top",bottom:"Bottom",up:"Up",down:"Down",group:"Group",cancelGroup:"Cancel Group",lock:"Lock",hide:"Hide",layer:"Layer",tip:"There is No Component"}},xt={cn:{top:"\u7F6E\u9876",bottom:"\u7F6E\u5E95",up:"\u4E0A\u79FB\u4E00\u5C42",down:"\u4E0B\u79FB\u4E00\u5C42",group:"\u6210\u7EC4",cancelGroup:"\u53D6\u6D88\u6210\u7EC4",lock:"\u9501\u5B9A",hide:"\u9690\u85CF",copy:"\u590D\u5236",delete:"\u5220\u9664"},en:{top:"Top",bottom:"Bottom",up:"Up",down:"Down",group:"Group",cancelGroup:"Cancel Group",lock:"Lock",hide:"Hide",copy:"Copy",delete:"Delete"}};const Tt=e=>{const{t}=pe({useScope:"local",messages:St}),n=[{title:t("title.emphasis"),data:[{name:"bounce",label:t("animations.bounce")},{name:"flash",label:t("animations.flash")},{name:"pulse",label:t("animations.pulse")},{name:"rubberBand",label:t("animations.rubberBand")},{name:"shakeX",label:t("animations.shakeX")},{name:"shakeY",label:t("animations.shakeY")},{name:"headShake",label:t("animations.headShake")},{name:"swing",label:t("animations.swing")},{name:"tada",label:t("animations.tada")},{name:"wobble",label:t("animations.wobble")},{name:"jello",label:t("animations.jello")},{name:"heartBeat",label:t("animations.heartBeat")}]},{title:t("title.delay"),data:[{name:"backInDown",label:t("animations.backInDown")},{name:"backInLeft",label:t("animations.backInLeft")},{name:"backInRight",label:t("animations.backInRight")},{name:"backInUp",label:t("animations.backInUp")},{name:"backOutDown",label:t("animations.backOutDown")},{name:"backOutLeft",label:t("animations.backOutLeft")},{name:"backOutRight",label:t("animations.backOutRight")},{name:"backOutUp",label:t("animations.backOutUp")}]},{title:t("title.jump"),data:[{name:"bounceIn",label:t("animations.bounceIn")},{name:"bounceInDown",label:t("animations.bounceInDown")},{name:"bounceInLeft",label:t("animations.bounceInLeft")},{name:"bounceInRight",label:t("animations.bounceInRight")},{name:"bounceInUp",label:t("animations.bounceInUp")},{name:"bounceOut",label:t("animations.bounceOut")},{name:"bounceOutDown",label:t("animations.bounceOutDown")},{name:"bounceOutLeft",label:t("animations.bounceOutLeft")},{name:"bounceOutRight",label:t("animations.bounceOutRight")},{name:"bounceOutUp",label:t("animations.bounceOutUp")}]},{title:t("title.fade"),data:[{name:"fadeIn",label:t("animations.fadeIn")},{name:"fadeInDown",label:t("animations.fadeInDown")},{name:"fadeInDownBig",label:t("animations.fadeInDownBig")},{name:"fadeInLeft",label:t("animations.fadeInLeft")},{name:"fadeInLeftBig",label:t("animations.fadeInLeftBig")},{name:"fadeInRight",label:t("animations.fadeInRight")},{name:"fadeInRightBig",label:t("animations.fadeInRightBig")},{name:"fadeInUp",label:t("animations.fadeInUp")},{name:"fadeInUpBig",label:t("animations.fadeInUpBig")},{name:"fadeInTopLeft",label:t("animations.fadeInTopLeft")},{name:"fadeInTopRight",label:t("animations.fadeInTopRight")},{name:"fadeInBottomLeft",label:t("animations.fadeInBottomLeft")},{name:"fadeInBottomRight",label:t("animations.fadeInBottomRight")},{name:"fadeOut",label:t("animations.fadeOut")},{name:"fadeOutDown",label:t("animations.fadeOutDown")},{name:"fadeOutDownBig",label:t("animations.fadeOutDownBig")},{name:"fadeOutLeft",label:t("animations.fadeOutLeft")},{name:"fadeOutLeftBig",label:t("animations.fadeOutLeftBig")},{name:"fadeOutRight",label:t("animations.fadeOutRight")},{name:"fadeOutRightBig",label:t("animations.fadeOutRightBig")},{name:"fadeOutUp",label:t("animations.fadeOutUp")},{name:"fadeOutUpBig",label:t("animations.fadeOutUpBig")},{name:"fadeOutTopLeft",label:t("animations.fadeOutTopLeft")},{name:"fadeOutTopRight",label:t("animations.fadeOutTopRight")},{name:"fadeOutBottomRight",label:t("animations.fadeOutBottomRight")},{name:"fadeOutBottomLeft",label:t("animations.fadeOutBottomLeft")}]},{title:t("title.rotate"),data:[{name:"flip",label:t("animations.flip")},{name:"flipInX",label:t("animations.flipInX")},{name:"flipInY",label:t("animations.flipInY")},{name:"flipOutX",label:t("animations.flipOutX")},{name:"flipOutY",label:t("animations.flipOutY")}]},{title:t("title.lightSpeed"),data:[{name:"lightSpeedInRight",label:t("animations.lightSpeedInRight")},{name:"lightSpeedInLeft",label:t("animations.lightSpeedInLeft")},{name:"lightSpeedOutRight",label:t("animations.lightSpeedOutRight")},{name:"lightSpeedOutLeft",label:t("animations.lightSpeedOutLeft")}]},{title:t("title.rotate"),data:[{name:"rotateIn",label:t("animations.rotateIn")},{name:"rotateInDownLeft",label:t("animations.rotateInDownLeft")},{name:"rotateInDownRight",label:t("animations.rotateInDownRight")},{name:"rotateInUpLeft",label:t("animations.rotateInUpLeft")},{name:"rotateInUpRight",label:t("animations.rotateInUpRight")},{name:"rotateOut",label:t("animations.rotateOut")},{name:"rotateOutDownLeft",label:t("animations.rotateOutDownLeft")},{name:"rotateOutDownRight",label:t("animations.rotateOutDownRight")},{name:"rotateOutUpLeft",label:t("animations.rotateOutUpLeft")},{name:"rotateOutUpRight",label:t("animations.rotateOutUpRight")}]},{title:t("title.zoom"),data:[{name:"zoomIn",label:t("animations.zoomIn")},{name:"zoomInDown",label:t("animations.zoomInDown")},{name:"zoomInLeft",label:t("animations.zoomInLeft")},{name:"zoomInRight",label:t("animations.zoomInRight")},{name:"zoomInUp",label:t("animations.zoomInUp")},{name:"zoomOut",label:t("animations.zoomOut")},{name:"zoomOutDown",label:t("animations.zoomOutDown")},{name:"zoomOutLeft",label:t("animations.zoomOutLeft")},{name:"zoomOutRight",label:t("animations.zoomOutRight")},{name:"zoomOutUp",label:t("animations.zoomOutUp")}]},{title:t("title.slide"),data:[{name:"slideInDown",label:t("animations.slideInDown")},{name:"slideInLeft",label:t("animations.slideInLeft")},{name:"slideInRight",label:t("animations.slideInRight")},{name:"slideInUp",label:t("animations.slideInUp")},{name:"slideOutDown",label:t("animations.slideOutDown")},{name:"slideOutLeft",label:t("animations.slideOutLeft")},{name:"slideOutRight",label:t("animations.slideOutRight")},{name:"slideOutUp",label:t("animations.slideOutUp")}]},{title:t("title.special"),data:[{name:"hinge",label:t("animations.hinge")},{name:"jackInTheBox",label:t("animations.jackInTheBox")},{name:"rollIn",label:t("animations.rollIn")},{name:"rollOut",label:t("animations.rollOut")}]}],a=ct({show:!1,selected:n[0].title,data:n,curAnimation:""}),o=r=>r===a.curAnimation?` animate__animated animate__${r}`:"",u=r=>{a.curAnimation=r},i=()=>{a.curAnimation=""},c=r=>{e.animations||(e.animations=[]);const{animations:l}=e;l.push(R(O({id:fe()},r),{animationDelay:0,animationDuration:1,animationIterationCount:1,repeat:!1})),a.show=!1},d=async(r,l)=>new Promise(h=>{const{animations:m}=e;if(!(m==null?void 0:m[r]))return h();const{name:y,animationDelay:b,animationDuration:D,animationIterationCount:E}=m[r],I="animate__animated",F=`animate__${y}`;l.style.animationDelay=`${b}s`,l.style.animationDuration=`${D}s`,l.style.animationIterationCount=`${E}`,l.classList.add(I,F);const s=()=>{l.removeEventListener("animationend",s),l.removeEventListener("animationcancel",s),l.style.animationDelay="",l.style.animationDuration="",l.style.animationIterationCount="",l.classList.remove(I,F),h()};l.addEventListener("animationend",s),l.addEventListener("animationcancel",s)});return{drawer:a,handleMouseover:u,handleMouseleave:i,getAnimationClass:o,addAnimation:c,playAll:async r=>{if(!!r&&e.animations)for(let l=0;l<n.length;l++)await d(l,r)},play:d}},zt=ue({props:{data:{type:Object,default:()=>({})},patchAll:{type:Boolean,default:!1},editorMode:{type:Boolean,default:!1}},setup(e){const t=ae(),n=me(()=>e.data);return W(()=>{var u;const{animations:a}=n.value;if(e.editorMode||!a||!((u=t.value)==null?void 0:u.$el))return;const{playAll:o}=Tt(n.value);o(t.value.$el)}),{splitStyleAndPatch:Bt,patchUnit:Ie,box:t}}});function Pt(e,t,n,a,o,u){return x(),ge(Se(`cq-${e.data.component}`),{ref:"box",group:e.data.group,data:e.data.data,"props-data":e.data.propsData,style:ke(e.patchAll?e.patchUnit(e.data.style):e.splitStyleAndPatch(e.data.style,!1))},null,8,["group","data","props-data","style"])}var Yt=Qe(zt,[["render",Pt]]);const Xt=["onClick"],Mt=ue({props:{menuType:{type:String,default:()=>"board"},container:Object},setup(e){const t=e,n=A(),a=Ke(),{t:o}=pe({useScope:"local",messages:xt}),u=ae(),i=j([{name:o("top"),icon:Ue,event:()=>n.moveUp(!0)},{name:o("bottom"),icon:xe,event:()=>n.moveDown(!0)},{name:o("up"),icon:Te,event:()=>n.moveUp()},{name:o("down"),icon:ze,event:()=>n.moveDown()},{name:o("group"),icon:Pe,disable:!1,event:()=>n.group()},{name:o("cancelGroup"),icon:Ye,disable:!1,event:()=>n.cancelGroup()},{name:o("lock"),icon:be,disable:!1,event:()=>n.toggleLocked(n.selected)},{name:o("hide"),icon:De,disable:!1,event:()=>n.hide(n.selected)},{name:o("copy"),icon:rt,event:()=>n.copy()},{name:o("delete"),icon:dt,event:()=>n.del()}]),c=(f,r,l)=>{if(f.stopPropagation(),r){f.preventDefault();return}a.hide(t.menuType),l()},d=()=>{G("click",f=>{f.stopPropagation(),f.preventDefault(),a.hideAll()})};return W(()=>{i[4].disable=We(n),i[5].disable=Ve(n),a.setRefAndContainer(t.menuType,u.value,t.container),d()}),(f,r)=>(x(),V("div",{ref:(l,h)=>{h.menuRef=l,ht(u)&&(u.value=l)},class:"board-menu",style:ke(ie(Ie)(ie(a)[e.menuType].style)),onMousedown:r[0]||(r[0]=je(()=>{},["stop"])),onMouseup:r[1]||(r[1]=je(()=>{},["stop"]))},[Xe("ul",null,[(x(!0),V(Fe,null,Me(ie(i),l=>(x(),V("li",{key:l.name,class:ft({"--disable":l.disable}),onClick:h=>c(h,l.disable,l.event)},[(x(),ge(Se(l.icon))),Xe("span",null,pt(l.name),1)],10,Xt))),128))])],36))}});var jt="/assets/logo.8407279e.svg";var fn=ue({name:"layer-panel",setup(){const e=A(),t=we(),n=Ke(),a=re(!1),o=ae(),{t:u}=pe({useScope:"local",messages:Ut}),i=[{tip:u("top"),icon:Ue,event:()=>e.moveUp(!0)},{tip:u("bottom"),icon:xe,event:()=>e.moveDown(!0)},{tip:u("up"),icon:Te,event:()=>e.moveUp()},{tip:u("down"),icon:ze,event:()=>e.moveDown()}],c=[{tip:u("group"),icon:Pe,event:()=>e.group()},{tip:u("cancelGroup"),icon:Ye,event:()=>e.cancelGroup()},{tip:u("lock"),icon:be,event:()=>e.toggleLocked(e.selected)},{tip:u("hide"),icon:De,event:()=>e.hide(e.selected)}],d=j({});e.data.forEach(s=>{var p;((p=s==null?void 0:s.group)==null?void 0:p.length)&&(d[s.id]=!1)});const f=me(()=>{const s=[];return s[0]={disable:We(e)},s[1]={disable:Ve(e)},s[2]={disable:e.selected.length===0},s[3]={disable:e.selected.length===0},s}),r=me(()=>a.value?"--item":"--thumbail");function l(s,p){s.stopPropagation(),e.toggleLocked(p)}function h(s,p){s.stopPropagation(),e.show(p)}function m(s,p){s.ctrlKey||s.metaKey?e.changeSelected(p):e.setIndex(p)}function y(s){(s===0&&a.value||s===1&&!a.value)&&(a.value=!a.value)}function b(s){d[s]=!d[s]}function D(s,p){s.preventDefault(),e.selected.includes(p)||e.setIndex(p),n.show(s,Q.LAYER,e)}function E(){return i.map(s=>g(Re,{key:s.icon.name,placement:"bottom",title:s.tip},{default:()=>[g(s.icon,{onClick:s.event,class:$({"--disable":e.selected.length===0})},null)]}))}function I(){return e.data.map((s,p)=>{const{group:B,id:M,locked:q}=s,{display:P}=s.style,L=a.value?g($e,null,null):g("img",{src:jt},null);let k,S=L,_;if(q&&(_=g(be,{class:"--icon",onClick:w=>l(w,p)},null)),P==="none"&&(_=g(De,{class:"--icon",onClick:w=>h(w,p)},null)),B==null?void 0:B.length){const[w,Y]=d[M]?["rotate(90deg)","block"]:["rotate(0deg)","none"];S=g(bt,{class:"--animated",style:{transform:w},onClick:b.bind(null,M)},null),k=B.map(U=>g("li",{key:U.id,class:$("--animated",r.value),style:{display:Y}},[L,g("b",null,[U.label])]))}return g(Fe,null,[g("li",{key:s.id,class:$(r.value,{"--active":e.selected.includes(p)}),onContextmenu:w=>D(w,p),onMouseup:w=>m(w,p)},[_,S,g("b",null,[s.label])]),k])})}function F(){return c.map((s,p)=>{const B=f.value[p];return g(Re,{key:s.icon.name,placement:"bottom",title:s.tip},{default:()=>[g(s.icon,{key:s.icon.name,onClick:(B==null?void 0:B.disable)?void 0:s.event,class:$({"--disable":B==null?void 0:B.disable})},null)]})})}return()=>g("div",{class:$("layer-panel",{"--hide":!t.layer}),ref:o},[g("header",{class:"layer-panel__header"},[g("div",null,[u("layer")]),g("section",null,[[mt,$e].map((s,p)=>g(s,{key:s.name,class:$({"--active":p===0?!a.value:a.value}),onClick:y.bind(null,p)},null)),g(gt,{onClick:()=>t.switchPanelShow("layer")},null)])]),g("section",{class:"layer-panel__wrapper"},[g("header",{class:"layer-panel__toolbar"},[E()]),e.data.length===0?g(at,{description:u("tip")},null):g("ul",{class:"layer-panel__box"},[I()]),n.layer.show&&g(Mt,{"menu-type":Q.LAYER,container:o.value},null)]),g("footer",{class:"layer-panel__footer"},[F()])])}});const $t={class:"board-group"},Gt=ue({props:{group:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(x(),V("div",$t,[(x(!0),V(Fe,null,Me(e.group,a=>(x(),ge(ie(Yt),{key:a.id,data:a,"patch-all":""},null,8,["data"]))),128))]))}});var Ht=Qe(Gt,[["__scopeId","data-v-644c95db"]]);const Nt={"./basic/index.ts":()=>Je(()=>import("./index.f187e1d2.js"),["assets/index.f187e1d2.js","assets/vendor.5d3ecb3a.js","assets/vendor.7d8b91be.css","assets/ant-design-vue.06bcb110.js","assets/ant-design-vue.a1e419e8.css","assets/lodash.1c8524b2.js","assets/node-forge.bef54000.js","assets/echarts.c0cd6df1.js","assets/prettier.685e070b.js"]),"./chart/index.ts":()=>Je(()=>import("./index.2f372f10.js"),["assets/index.2f372f10.js","assets/vendor.5d3ecb3a.js","assets/vendor.7d8b91be.css","assets/ant-design-vue.06bcb110.js","assets/ant-design-vue.a1e419e8.css","assets/lodash.1c8524b2.js","assets/node-forge.bef54000.js","assets/echarts.c0cd6df1.js","assets/prettier.685e070b.js"])},ye={};for(const[e,t]of Object.entries(Nt)){const n=e.match(/\.\/(.*)\/index\.ts/);(n==null?void 0:n[1])&&(ye[n[1]]=t)}var pn=async e=>{const t=He(),n=async a=>{const u=(await a()).default,{name:i,icon:c,components:d,order:f,dataConfig:r}=u,l=[];for(const[h,m]of Object.entries(d)){const b=(await m()).default;b.type=h,b.dataConfig=r||b.dataConfig,e.component(`cq-${h}`,b.component),l.push(b),t.pushList(b)}t.setGroup(f,{groupName:i,icon:c,list:l})};e.component("cq-group",Ht);for(const a in ye)await n(ye[a])};export{Tt as A,Yt as B,rn as C,en as D,ln as E,Ge as F,jt as G,fn as H,yt as I,H as L,Q as M,Qe as _,Je as a,pn as b,hn as c,sn as d,Ne as e,A as f,cn as g,K as h,Ke as i,Z as j,It as k,se as l,tn as m,an as n,G as o,Ie as p,nn as q,on as r,Bt as s,un as t,dn as u,Mt as v,z as w,we as x,He as y,St as z};
